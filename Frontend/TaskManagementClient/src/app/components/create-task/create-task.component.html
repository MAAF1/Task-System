<div class="create-task-container">
  <div class="container-fluid mt-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card shadow-sm">
          <div class="card-header bg-primary text-white">
            <h4 class="mb-0">
              <i class="bi bi-plus-lg"></i> Create New Task
            </h4>
          </div>

          <div class="card-body p-4">
            <div *ngIf="error" class="alert alert-danger alert-dismissible fade show" role="alert">
              <i class="bi bi-exclamation-circle"></i> {{ error }}
            </div>

            <form (ngSubmit)="onSubmit()">
              <div class="mb-4">
                <label class="form-label fw-bold">Task Title *</label>
                <input 
                  type="text" 
                  class="form-control form-control-lg"
                  placeholder="Enter task title"
                  [(ngModel)]="taskForm.title"
                  name="title"
                  [ngClass]="{ 'is-invalid': submitted && !taskForm.title }"
                />
                <div *ngIf="submitted && !taskForm.title" class="invalid-feedback d-block">
                  Task title is required
                </div>
              </div>

              <div class="mb-4">
                <label class="form-label fw-bold">Description</label>
                <textarea 
                  class="form-control"
                  placeholder="Enter task description..."
                  rows="5"
                  [(ngModel)]="taskForm.description"
                  name="description"
                ></textarea>
                <small class="text-muted d-block mt-2">Write a detailed description for your task</small>
              </div>

              <div class="row mb-4">
                <div class="col-md-6">
                  <label class="form-label fw-bold">Status</label>
                  <select 
                    class="form-select form-select-lg"
                    [(ngModel)]="taskForm.status"
                    name="status"
                  >
                    <option *ngFor="let status of statusOptions">{{ status }}</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label fw-bold">Due Date</label>
                  <input 
                    type="datetime-local" 
                    class="form-control form-control-lg"
                    [(ngModel)]="taskForm.dueDate"
                    name="dueDate"
                  />
                </div>
              </div>

              <div class="form-text mb-4 p-3 bg-light rounded">
                <i class="bi bi-info-circle"></i> 
                <strong>Tip:</strong> Fill in all the details to create an effective task that your team can understand and complete.
              </div>

              <div class="btn-group w-100" role="group">
                <button type="submit" class="btn btn-primary btn-lg fw-bold" [disabled]="loading">
                  <span *ngIf="!loading">
                    <i class="bi bi-check2-circle"></i> Create Task
                  </span>
                  <span *ngIf="loading">
                    <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                    Creating...
                  </span>
                </button>
                <button type="button" class="btn btn-secondary btn-lg" (click)="cancel()">
                  <i class="bi bi-x-circle"></i> Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
